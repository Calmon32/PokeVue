(function(e){function t(t){for(var o,i,s=t[0],a=t[1],l=t[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);u&&u(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,s=1;s<n.length;s++){var a=n[s];0!==r[a]&&(o=!1)}o&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},c=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/PokeVue/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=a;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"324b":function(e,t,n){},3604:function(e,t,n){"use strict";var o=n("324b"),r=n.n(o);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=n("8c4f"),c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("img",{attrs:{id:"logo",alt:"Vue logo",src:n("5fbe")}}),o("router-view")],1)},i=[],s={},a=s,l=(n("d5c9"),n("2877")),u=Object(l["a"])(a,c,i,!1,null,"3a5d5714",null),p=u.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("keep-alive",[n(e.currentComponent,e._b({tag:"component"},"component",e.currentProps,!1))],1)],1)},f=[],m=(n("99af"),n("a15b"),n("d81d"),n("fb6a"),n("b0c0"),n("d3b7"),n("1276"),n("2909")),h=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"grid-container"}},e._l(e.pokemonList,(function(t,o){return n("ListElement",{key:o,attrs:{pokemon:t,select:e.select}})})),1)])}),g=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card bg-light text-center",on:{click:function(t){return e.select(e.pokemon.id)}}},[n("div",{staticClass:"card-header"},[n("img",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"pokeImg",attrs:{src:e.pokemon.imageURL,alt:""},on:{load:function(t){e.loaded=!0}}}),e.loaded?e._e():n("img",{staticClass:"pokeball",attrs:{src:"pokeball.png",alt:""}})]),n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title"},[e._v(e._s(e.pokemon.name))])])])},k=[],b={name:"ListElement",props:{pokemon:Object,select:Function},data:function(){return{loaded:!1}}},w=b,P=(n("3604"),Object(l["a"])(w,v,k,!1,null,"12417ab0",null)),_=P.exports,y={name:"ListView",props:{pokemonList:Array,select:Function},components:{ListElement:_}},O=y,x=(n("8576"),Object(l["a"])(O,h,g,!1,null,"07d8af64",null)),j=x.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pokemonCard"},[n("button",{on:{click:function(t){return e.deselect()}}},[e._v("Back")]),n("h1",[e._v(e._s(e.pokemon.name))]),n("img",{attrs:{src:e.pokemon.sprites.front_default,alt:""}})])},C=[],E={name:"ListElement",props:{pokemon:Object,deselect:Function}},S=E,V=(n("996a"),Object(l["a"])(S,L,C,!1,null,"27acd828",null)),$=V.exports,F=n("bc3a"),R=n.n(F),T="https://pokeapi.co",M="".concat(T,"/api/v2/"),A=R.a.create({baseURL:M}),U="/pokemon",H={get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return A.get("".concat(U,"/?offset=").concat(e,"&limit=").concat(t))},getPokemon:function(e){return A.get("".concat(U,"/").concat(e))}},B={pokemon:H},D={get:function(e){return B[e]}},I=D.get("pokemon"),J={components:{ListView:j,PokemonView:$},data:function(){return{isLoading:!1,currentComponent:"ListView",pokemon:[],selectedPokemon:null,offset:0,scrollPosition:0}},mounted:function(){console.log("Fetching"),this.FetchPokemon(),this.LoadOnScroll()},computed:{currentProps:function(){return"PokemonView"===this.currentComponent?{pokemon:this.selectedPokemon,deselect:this.DeselectPokemon}:{pokemonList:this.pokemon,select:this.SelectPokemon}}},methods:{FetchPokemon:function(){var e,t,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(this.isLoading){o.next=10;break}return this.isLoading=!0,o.next=4,regeneratorRuntime.awrap(I.get(this.offset,20));case 4:e=o.sent,t=e.data,this.offset+=t.results.length,n=t.results.map((function(e){e.id=e.url.split("/").slice(-2)[0];for(var t=e.name.split("-"),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1);return e.name=t.join(" "),e.imageURL="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(e.id,".png"),e})),this.pokemon=[].concat(Object(m["a"])(this.pokemon),Object(m["a"])(n)),this.isLoading=!1;case 10:case"end":return o.stop()}}),null,this)},LoadOnScroll:function(){var e=this;window.onscroll=function(){var t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)+window.innerHeight>document.documentElement.offsetHeight-1e3;t&&e.FetchPokemon()}},SelectPokemon:function(e){var t,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return this.scrollPosition=this.$el.scrollHeight,console.log("Selected: ".concat(e)),console.log(this.scrollPosition),o.next=5,regeneratorRuntime.awrap(I.getPokemon(e));case 5:t=o.sent,n=t.data,this.selectedPokemon=n,this.currentComponent="PokemonView";case 9:case"end":return o.stop()}}),null,this)},DeselectPokemon:function(){this.selectedPokemon=null,this.currentComponent="ListView"}}},N=J,G=Object(l["a"])(N,d,f,!1,null,null,null),Y=G.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("TEST PAGE: "+e._s(e.id))]),n("router-link",{staticClass:"btn btn-light",attrs:{to:"/"}},[e._v("Back")])],1)},z=[],K=(n("a9e3"),{props:{id:{type:Number}}}),Q=K,W=Object(l["a"])(Q,q,z,!1,null,null,null),X=W.exports,Z=[{path:"/",component:Y},{path:"/test/:id",component:X,props:!0}];o["a"].config.productionTip=!1,o["a"].use(r["a"]);var ee=new r["a"]({routes:Z});new o["a"]({render:function(e){return e(p)},router:ee}).$mount("#app")},"5fbe":function(e,t,n){e.exports=n.p+"img/logo2.e6468d13.png"},8576:function(e,t,n){"use strict";var o=n("9308"),r=n.n(o);r.a},9308:function(e,t,n){},"996a":function(e,t,n){"use strict";var o=n("ec09"),r=n.n(o);r.a},d5c9:function(e,t,n){"use strict";var o=n("f141"),r=n.n(o);r.a},ec09:function(e,t,n){},f141:function(e,t,n){}});
//# sourceMappingURL=app.b2a417f4.js.map